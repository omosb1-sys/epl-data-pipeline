---
description: Manus 스타일의 파일 기반 컨텍스트 관리 워크플로우
---

// turbo-all

안티그래비티가 복잡한 태스크를 수행할 때 발생하는 컨텍스트 포화 문제를 해결하고, 작업의 연속성을 보장하기 위해 다음 단계를 수행합니다.

1. **태스크 선언 및 계획 수립**
   - 작업을 시작하기 전, `.agent/scratchpad/SCRATCHPAD.md`의 `Current Task Checkpoint` 섹션을 현재 목표로 업데이트합니다.
   - `TODO List`에 실행 가능한 작업 단계를 작성합니다.

2. **작업 수행 및 실시간 기록 (2-작업 규칙)**
   - 웹 서핑, 파일 읽기, 데이터 조회 등의 정보 획득 작업을 2회 이상 수행할 때마다 그 핵심 요약을 `Findings` 섹션에 즉시 기록합니다.
   - 각 단계가 완료될 때마다 `TODO List`의 체크박스를 업데이트합니다.

3. **에러 상황 자산화**
   - 실행 중 에러가 발생하거나 로직 수정이 필요한 경우, `Error & Retry Log`에 실패한 접근 방식과 에러 메시지, 그리고 깨달은 점(Lesson)을 기록합니다.
   - 동일한 실수를 반복하지 않도록 다음 시도 전 이 로그를 다시 읽습니다.

4. **지식 증류 및 체크포인트 저장**
   - 논리적인 마일스톤에 도달하거나 세션이 길어질 경우, `Findings` 중 영구적으로 보관할 가치가 있는 정보는 `data/team_memory.json`에 100자 이내로 요약하여 저장(Distill)합니다.
   - 작업 완료 후, 상세 로그는 삭제하고 최종 결과와 `Next Steps`만 남겨 Scratchpad를 압축합니다.

5. **자원 최적화**
   - 세션 종료 전 `python cleanup_agent.py`를 실행하여 7일이 지난 로그를 정리하고 디스크 용량을 최적화합니다.
